cmake_minimum_required(VERSION 3.14)

include(ExternalProject)

ExternalProject_Add(
  zlib
  SOURCE_DIR ${CMAKE_CURRENT_SOURCE_DIR}/source
  BUILD_BYPRODUCTS ${DIR_PROJECT_OUT}/lib/libz.a
  BINARY_DIR ${DIR_PROJECT_BUILD}
  CMAKE_ARGS -DCMAKE_INSTALL_PREFIX=${DIR_PROJECT_OUT} -DCMAKE_CXX_COMPILER=${CXX} -DCMAKE_C_COMPILER=${CC})
